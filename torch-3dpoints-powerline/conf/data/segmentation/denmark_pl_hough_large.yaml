# @package data
defaults:
  - segmentation/default

class: denmark_pl_hough.DenmarkDataset
name: "Denmark"
task: segmentation
dataroot: /home/jf/msc_data
processed_folder: "processed_hough"
use_category: False
visualization: True
#features: []
class_weights: log
first_subsampling: 0.1 #0.04 for 50m
train_overlap: 0.25  #0.25
block_size_x: 0.1  # tuple for normalized sampling area (e.g., if 1km = 1, 200m = 0.2) 0.05
block_size_y: 0.1 # tuple for normalized sampling area (e.g., if 1km = 1, 200m = 0.2) 0.05
canny_lower: 19
canny_upper: 101
cc_area: 196
hough_lines_treshold: 50
max_line_gap: 6
meters_around_line: 10
min_line_length: 12
simplify_tolerance: 8
pdal_env: /home/jf/miniconda3/envs/pdal/bin/python 
pdal_script_path: /home/jf/Documents/msc/torch-3dpoints-powerline/torch_points3d/core/data_transform/pdal/run_pipeline.py
pdal_workers: 1
pdal_height: 3
#first_subsampling: 0.08
#train_overlap: 0.05  #0.025
#block_size_x: 0.1  # tuple for normalized sampling area (e.g., if 1km = 1, 200m = 0.2) 0.05
#block_size_y: 0.1  # tuple for normalized sampling area (e.g., if 1km = 1, 200m = 0.2) 0.05
train_transform:
  - transform: MinPoints
    lparams: [ 512 ]
  - transform: XYZFeature
    params:
      add_x: False
      add_y: False
      add_z: True
  - transform: AddFeatsByKeys
    params:
      list_add_to_x: [True]
      feat_names: [pos_z]
      delete_feats: [True]
  - transform: GridSampling3D
    params:
      size: ${data.first_subsampling}
      quantize_coords: True
      mode: "last"

val_transform:
  - transform: MinPoints
    lparams: [ 512 ]
  - transform: XYZFeature
    params:
      add_x: False
      add_y: False
      add_z: True
  - transform: AddFeatsByKeys
    params:
      list_add_to_x: [True]
      feat_names: [pos_z]
      delete_feats: [True]
  - transform: GridSampling3D
    params:
      size: ${data.first_subsampling}
      quantize_coords: True
      mode: "last"

test_transform:
  - transform: MinPoints
    lparams: [ 512 ]
  - transform: XYZFeature
    params:
      add_x: False
      add_y: False
      add_z: True
  - transform: AddFeatsByKeys
    params:
      list_add_to_x: [True]
      feat_names: [pos_z]
      delete_feats: [True]
  - transform: GridSampling3D
    params:
      size: ${data.first_subsampling}
      quantize_coords: True
      mode: "last"

